import{d as F,v as C,g as o,c as d,o as g,j as p,C as _,aK as B,G as e,w as c,a as w}from"./chunks/framework.gpVTZwhR.js";const f={class:"border-t-1 border-b-1 border-l-none border-r-none border-solid border-t-gray-700 border-b-gray-700 pa-4 my-4"},x=F({__name:"solar-system",setup(y){return C(()=>{const n=new Image,i=new Image,s=new Image;h();function h(){n.src=o("https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/canvas_sun.png"),i.src=o("https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/canvas_moon.png"),s.src=o("https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/canvas_earth.png"),window.requestAnimationFrame(l)}function l(){const a=document.getElementById("solar-system").getContext("2d");a.globalCompositeOperation="destination-over",a.clearRect(0,0,300,300),a.fillStyle="rgba(0, 0, 0, 0.4)",a.strokeStyle="rgba(0, 153, 255, 0.4)",a.save(),a.translate(150,150);const t=new Date;a.rotate(2*Math.PI/60*t.getSeconds()+2*Math.PI/6e4*t.getMilliseconds()),a.translate(105,0),a.fillRect(0,-12,50,24),a.drawImage(s,-12,-12),a.save(),a.rotate(2*Math.PI/6*t.getSeconds()+2*Math.PI/6e3*t.getMilliseconds()),a.translate(0,28.5),a.drawImage(i,-3.5,-3.5),a.restore(),a.restore(),a.beginPath(),a.arc(150,150,105,0,Math.PI*2,!1),a.stroke(),a.drawImage(n,0,0,300,300),window.requestAnimationFrame(l)}}),(n,i)=>(g(),d("div",f,i[0]||(i[0]=[p("canvas",{id:"solar-system",width:"300",height:"300",class:"border border-solid border-red"},null,-1)])))}}),P={id:"mouse-tracking-animation",width:"300",height:"300"},b=300,v=300,I=F({__name:"mouse-tracking-animation",setup(y){return C(()=>{var n=document.getElementById("mouse-tracking-animation"),i=n.getContext("2d");const s={x:v/2,y:b/2};function h(){for(var k="0123456789ABCDEF",r="#",E=0;E<6;E++)r+=k[Math.ceil(Math.random()*15)];return r}const l=[];for(var a=0;a<10;a++){var t=new A(5,"red",2);l.push(t)}i.lineWidth=1,i.globalAlpha=.5,u(),m(),window.onresize=function(){u()};function u(){n.height=b,n.width=v;for(var k=0;k<101;k++)l[k]=new A(4,h(),.02)}function A(k,r,E){this.lineWidth=k,this.randomColor=r,this.theta=Math.random()*Math.PI*2,this.unitRange=E,this.radius=Math.random()*150,this.x=s.x+Math.cos(this.theta)*this.radius,this.y=s.y+Math.sin(this.theta)*this.radius,this.dr=function(){const D={x:this.x,y:this.y};this.theta+=this.unitRange,this.x=s.x+Math.cos(this.theta)*this.radius,this.y=s.y+Math.sin(this.theta)*this.radius,i.beginPath(),i.lineWidth=this.lineWidth,i.strokeStyle=this.randomColor,i.moveTo(D.x,D.y),i.lineTo(this.x,this.y),i.stroke(),i.closePath()}}function m(){requestAnimationFrame(m),i.fillStyle="rgba(0, 0, 0, 0.04)",i.fillRect(0,0,n.width,n.height),l.forEach(k=>{k.dr()})}}),(n,i)=>(g(),d("canvas",P))}}),M={class:"border-t-1 border-b-1 border-l-none border-r-none border-solid border-t-gray-700 border-b-gray-700 pa-4 my-4"},S=F({__name:"clock",setup(y){return C(()=>{function n(){var i=new Date,s=document.getElementById("clock").getContext("2d");s.save(),s.clearRect(0,0,300,300),s.translate(150,150),s.rotate(-Math.PI/2),s.strokeStyle="black",s.fillStyle="white",s.lineWidth=7,s.lineCap="round",s.save();for(var h=0;h<12;h++)s.beginPath(),s.rotate(Math.PI/6),s.moveTo(130,0),s.lineTo(150,0),s.stroke();for(s.restore(),s.save(),s.lineWidth=5,h=0;h<60;h++)h%5!=0&&(s.beginPath(),s.moveTo(145,0),s.lineTo(150,0),s.stroke()),s.rotate(Math.PI/30);s.restore();var l=i.getSeconds(),a=i.getMinutes(),t=i.getHours();t=t>=12?t-12:t,s.fillStyle="black",s.save(),s.rotate(t*(Math.PI/6)+Math.PI/360*a+Math.PI/21600*l),s.lineWidth=14,s.beginPath(),s.moveTo(-20,0),s.lineTo(80,0),s.stroke(),s.restore(),s.save(),s.rotate(Math.PI/30*a+Math.PI/1800*l),s.lineWidth=10,s.beginPath(),s.moveTo(-28,0),s.lineTo(112,0),s.stroke(),s.restore(),s.save(),s.rotate(l*Math.PI/30),s.strokeStyle="#D40000",s.fillStyle="#D40000",s.lineWidth=6,s.beginPath(),s.moveTo(-30,0),s.lineTo(83,0),s.stroke(),s.beginPath(),s.arc(0,0,10,0,Math.PI*2,!0),s.fill(),s.beginPath(),s.arc(95,0,10,0,Math.PI*2,!0),s.stroke(),s.fillStyle="rgba(0,0,0,0)",s.arc(0,0,3,0,Math.PI*2,!0),s.fill(),s.restore(),s.beginPath(),s.lineWidth=1,s.strokeStyle="#325FA2",s.arc(0,0,142,0,Math.PI*2,!0),s.stroke(),s.restore(),window.requestAnimationFrame(n)}window.requestAnimationFrame(n)}),(n,i)=>(g(),d("div",M,i[0]||(i[0]=[p("canvas",{id:"clock",width:"300",height:"300",class:"border border-solid border-red"},null,-1)])))}}),R=JSON.parse('{"title":"canvas 动画","description":"","frontmatter":{"label":"canvas"},"headers":[{"level":2,"title":"太阳系动画","slug":"太阳系动画","link":"#太阳系动画","children":[]},{"level":2,"title":"时钟","slug":"时钟","link":"#时钟","children":[]},{"level":2,"title":"鼠标跟踪动画","slug":"鼠标跟踪动画","link":"#鼠标跟踪动画","children":[]}],"relativePath":"useful/canvas/07 canvas 动画.md","filePath":"useful/canvas/07 canvas 动画.md","lastUpdated":1710946996000}'),T={name:"useful/canvas/07 canvas 动画.md"},W=Object.assign(T,{setup(y){return(n,i)=>{const s=_("clientOnly");return g(),d("div",null,[i[0]||(i[0]=B("",4)),e(s,null,{default:c(()=>[e(x)]),_:1}),i[1]||(i[1]=B("",2)),e(s,null,{default:c(()=>[e(S)]),_:1}),i[2]||(i[2]=p("h2",{id:"鼠标跟踪动画",tabindex:"-1"},[w("鼠标跟踪动画 "),p("a",{class:"header-anchor",href:"#鼠标跟踪动画","aria-label":'Permalink to "鼠标跟踪动画"'},"​")],-1)),i[3]||(i[3]=p("p",null,"c 如何实现 canvas 的拖尾效果？",-1)),i[4]||(i[4]=p("p",null,"这里的技巧在于，在重绘制下一帧前，不是调用 clearRect 清除掉上一帧的内容，而是在上一帧基础上加上一个半透明蒙层，然后继续画下一帧。画的帧数多了，也就有了拖尾效果，拖尾效果的长短，跟蒙层的透明度有关，透明度越小，拖尾越长。",-1)),i[5]||(i[5]=p("p",null,[p("a",{href:"https://www.cnblogs.com/imgss/p/10387222.html",target:"_blank",rel:"noreferrer"},"https://www.cnblogs.com/imgss/p/10387222.html")],-1)),e(s,null,{default:c(()=>[e(I)]),_:1})])}}});export{R as __pageData,W as default};

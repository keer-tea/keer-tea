import{_ as c,c as k,e as g,o as p,j as a,ao as u,av as f,t as C,p as d,G as r,F as B,aK as F,a as D}from"./chunks/framework.gpVTZwhR.js";const A={props:{},data(){return{isShowModifyModal:!1,inModalProductNo:"",errorMessage:!1}},computed:{bizPhoneNo:{set(i){const s=i.replace(/\s/g,"");this.inModalProductNo=s,/^1[3456789]\d{9}$/.test(s)?this.errorMessage=!1:this.errorMessage=!0},get(){return this.formatPhone(this.inModalProductNo)}}},methods:{show(i){this.isShowModifyModal=!0,this.inModalProductNo=i,this.$nextTick(()=>{this.$refs.modifyPNInput.focus()})},formatPhone(i){return(i||"").replace(/\s/g,"").replace(/(^\d{3})(?=\d)/g,"$1 ").replace(/(\d{4})(?=\d)/g,"$1 ").replace(/(\d{4})(?=\d)/g,"$1 ")},confirm(i){i?/^1[3456789]\d{9}$/.test(this.inModalProductNo)?(this.$emit("confirmModifyProductNo",this.inModalProductNo),this.isShowModifyModal=!1):this.errorMessage=!0:(this.errorMessage=!1,this.isShowModifyModal=!1)}}},x={key:0,class:"fixed left-0 top-0 w-full h-full bg-black/50 z-999"},m={class:"fixed bg-white left-50% top-50% -translate-x-1\\/2 -translate-y-1\\/2 z-9999 border-rounded"},v={class:"w-281px pt-24px"},b={class:"flex flex-col px-24px"},q={class:"box-border p-10px w-full text-13px flex items-center h-25px text-#ee0a24"},M={key:0},w={class:"text-17px text-#242424 flex items-center justify-center text-center h-45px"};function N(i,s,n,e,l,t){return l.isShowModifyModal?(p(),k("div",x,[a("div",m,[a("div",v,[s[4]||(s[4]=a("div",{class:"text-center font-600 text-17px color-#242424 mb-15px"}," 修改手机号 ",-1)),a("div",b,[u(a("input",{"onUpdate:modelValue":s[0]||(s[0]=h=>t.bizPhoneNo=h),class:"text-15px box-border p-10px w-full outline-unset border-none rounded-8px bg-#f2f2f2 placeholder-#aaa",ref:"modifyPNInput",maxlength:"13",placeholder:"请输入你要修改的手机号",type:"tel"},null,512),[[f,t.bizPhoneNo]]),a("div",q,[l.errorMessage?(p(),k("div",M,"手机号输入有误")):g("",!0)])]),a("div",w,[a("div",{class:"relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50",onClick:s[1]||(s[1]=h=>t.confirm(!1))}," 取消 "),s[3]||(s[3]=a("div",{class:"h-full w-1px bg-#e9e9e9 scale-x-50 flex-none"},null,-1)),a("div",{class:"relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50",onClick:s[2]||(s[2]=h=>t.confirm(!0))}," 确认 ")])])])])):g("",!0)}const P=c(A,[["render",N]]),_={props:{},data(){return{isShowModifyModal:!1,inModalProductNo:"",errorMessage:""}},methods:{show(i){this.isShowModifyModal=!0,this.$nextTick(()=>{this.setValue(i),this.$refs.modifyPNInput.focus()})},onInput(i){const s=i.target.value;let n=this.getOnlyNumber(s);this.setValue(n)},setValue(i){const s=i.length;s<=3||(3<s&&s<=7?i=`${i.substring(0,3)} ${i.substring(3)}`:7<s&&(i=`${i.substring(0,3)} ${i.substring(3,7)} ${i.substring(7)}`)),this.$refs.modifyPNInput.value=i,this.isOK()},getOnlyNumber(i){return i.replace(/\D/g,"")},getRealTel(){return this.getOnlyNumber(this.$refs.modifyPNInput.value)},confirm(i){i?this.isOK()&&(this.$emit("confirmModifyProductNo",this.getRealTel()),this.isShowModifyModal=!1):this.isShowModifyModal=!1},isOK(){let i=/^1[3456789]\d{9}$/;const s=this.getRealTel();return i.test(s)?(this.errorMessage="",!0):(this.errorMessage="手机号格式错误",!1)}}},$={key:0,class:"fixed left-0 top-0 w-full h-full bg-black/50 z-999"},T={class:"fixed bg-white left-50% top-50% -translate-x-1\\/2 -translate-y-1\\/2 z-9999 border-rounded"},S={class:"w-281px pt-24px"},V={class:"flex flex-col px-24px"},I={class:"box-border p-10px w-full text-13px flex items-center h-25px text-#ee0a24"},j={class:"text-17px text-#242424 flex items-center justify-center text-center h-45px"};function O(i,s,n,e,l,t){return l.isShowModifyModal?(p(),k("div",$,[a("div",T,[a("div",S,[s[4]||(s[4]=a("div",{class:"text-center font-600 text-17px color-#242424 mb-15px"},"修改手机号",-1)),a("div",V,[a("input",{ref:"modifyPNInput",placeholder:"请输入你要修改的手机号",type:"tel",maxlength:"13",onInput:s[0]||(s[0]=(...h)=>t.onInput&&t.onInput(...h))},null,544),a("div",I,C(l.errorMessage),1)]),a("div",j,[a("div",{class:"relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50",onClick:s[1]||(s[1]=h=>t.confirm(!1))}," 取消 "),s[3]||(s[3]=a("div",{class:"h-full w-1px bg-#e9e9e9 scale-x-50 flex-none"},null,-1)),a("div",{class:"relative flex items-center justify-center flex-auto text-#333 rounded-8px h-45px after:absolute after:left-0 after:top-0 after:w-100% after:h-1px after:bg-#e9e9e9 after:scale-y-50",onClick:s[2]||(s[2]=h=>t.confirm(!0))}," 确认 ")])])])])):g("",!0)}const z=c(_,[["render",O]]),R={class:"border-rounded border border-gray border-solid p-20px text-gray flex items-center w-full box-border"},K={class:"ml-auto"},o={__name:"index",props:{num:{type:Number,required:!0}},setup(i){const s=i,n=d("19122544462"),e=d(null),l=d(null);function t(){s.num===1?e.value.show(n.value):l.value.show(n.value)}function h(y){n.value=y}return(y,E)=>(p(),k(B,null,[a("div",R,[E[0]||(E[0]=a("span",null,"手机号",-1)),a("span",K,C(n.value),1),E[1]||(E[1]=a("span",{class:"w-0.5px self-stretch h-20px mx-10px bg-gray"},null,-1)),a("span",{class:"color-#4a7bff cursor-grab",onClick:t},"修改")]),r(P,{ref_key:"modifyTelModal1",ref:e,onConfirmModifyProductNo:h},null,512),r(z,{ref_key:"modifyTelModal2",ref:l,onConfirmModifyProductNo:h},null,512)],64))}},J=JSON.parse('{"title":"输入框输入手机号分隔为 344 格式","description":"","frontmatter":{"label":["actual combat"]},"headers":[{"level":2,"title":"计算属性的 get 和 set","slug":"计算属性的-get-和-set","link":"#计算属性的-get-和-set","children":[]},{"level":2,"title":"命令式编程","slug":"命令式编程","link":"#命令式编程","children":[]},{"level":2,"title":"index.vue 文件：","slug":"index-vue-文件","link":"#index-vue-文件","children":[]},{"level":2,"title":"弹框一代码","slug":"弹框一代码","link":"#弹框一代码","children":[]},{"level":2,"title":"弹框二代码","slug":"弹框二代码","link":"#弹框二代码","children":[]}],"relativePath":"useful/前端效果实现/输入框输入手机号分隔为 344 格式.md","filePath":"useful/前端效果实现/输入框输入手机号分隔为 344 格式.md","lastUpdated":1709816942000}'),U={name:"useful/前端效果实现/输入框输入手机号分隔为 344 格式.md"},H=Object.assign(U,{setup(i){return(s,n)=>(p(),k("div",null,[n[0]||(n[0]=F("",5)),r(o,{num:1}),n[1]||(n[1]=a("h2",{id:"命令式编程",tabindex:"-1"},[D("命令式编程 "),a("a",{class:"header-anchor",href:"#命令式编程","aria-label":'Permalink to "命令式编程"'},"​")],-1)),n[2]||(n[2]=a("p",null,"不可以删除空格",-1)),r(o,{num:2}),n[3]||(n[3]=F("",6))]))}});export{J as __pageData,H as default};

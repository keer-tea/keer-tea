import{d as y,v as F,c as k,o as p,p as B,F as c,j as i,B as u,n as A,k as T,t as C,C as D,aK as e,G as l,w as g}from"./chunks/framework.gpVTZwhR.js";const v={id:"save-restore",width:"200",height:"200"},f=y({__name:"save-restore-demo",setup(E){return F(()=>{const s=document.getElementById("save-restore").getContext("2d");s.save(),s.fillStyle="green",s.fillRect(0,0,100,200),s.restore(),s.fillRect(100,0,100,200)}),(s,a)=>(p(),k("canvas",v))}}),x={id:"translate-demo",width:"200",height:"200"},Q=y({__name:"translate-demo",setup(E){return F(()=>{const s=document.getElementById("translate-demo").getContext("2d");s.strokeRect(0,0,200,200),s.translate(100,100),s.arc(0,0,50,0,2*Math.PI),s.stroke()}),(s,a)=>(p(),k("canvas",x))}}),_={id:"rotate-demo",width:"200",height:"200"},b=y({__name:"rotate-demo",setup(E){return F(()=>{const s=document.getElementById("rotate-demo").getContext("2d");s.strokeRect(0,0,200,200),s.translate(100,100);for(let a=1;a<=5;a++){s.fillStyle=`rgb(${51*a}, ${255-51*a}, 255)`;for(let n=0,r=a*6;n<r;n++)s.save(),s.beginPath(),s.rotate(n*Math.PI*2/r),s.arc(a*15,0,5,0,2*Math.PI),s.fill(),s.closePath(),s.restore()}}),(s,a)=>(p(),k("canvas",_))}}),w={id:"scale-demo",width:"200",height:"200"},M=y({__name:"scale-demo",setup(E){return F(()=>{const s=document.getElementById("scale-demo").getContext("2d");s.save(),s.scale(10,3),s.fillRect(1,10,10,10),s.restore(),s.scale(-1,1),s.font="48px serif",s.fillText("MDN",-135,120)}),(s,a)=>(p(),k("canvas",w))}}),q=y({__name:"transform-demo",setup(E){let s;const a=[{funText:"ctx1.setTransform(1, 0, 0, 1, 100, 100)",tips:"最初的模样"},{funText:"ctx1.setTransform(cos, 0, 0, 1, 100, 100)",tips:"水平方向进行缩放。"},{funText:"ctx1.setTransform(cos, sin, 0, 1, 100, 100)",tips:"水平轴变长，然后向垂直轴倾斜，直到等于传入参数的角度。"},{funText:"ctx1.setTransform(cos, sin, -sin, 1, 100, 100)",tips:"垂直轴变长，然后向水平轴倾斜，直到等于传入参数的角度。"},{funText:"ctx1.setTransform(cos, sin, -sin, cos, 100, 100)",tips:"垂直方向缩放"}];let n=B(0);function r(){const h=Math.sin(Math.PI/6),t=Math.cos(Math.PI/6);s.resetTransform(),s.clearRect(0,0,400,400),n.value===0?s.setTransform(t,0,0,1,200,200):n.value===1?s.setTransform(t,h,0,1,200,200):n.value===2?s.setTransform(t,h,-h,1,200,200):n.value===3?s.setTransform(t,h,-h,t,200,200):n.value===4&&s.setTransform(1,0,0,1,200,200),n.value=(n.value+1)%5,o()}function o(){s.lineWidth=1,s.strokeStyle="#000";for(let h=0;h<9;h++)h!==4&&(s.beginPath(),s.moveTo(-80,h*20+.5-80),s.lineTo(80,h*20+.5-80),s.stroke(),s.closePath(),s.beginPath(),s.moveTo(h*20+.5-80,-80),s.lineTo(h*20+.5-80,80),s.stroke(),s.closePath());s.strokeStyle="red",s.beginPath(),s.moveTo(-80,4*20+.5-80),s.lineTo(80,4*20+.5-80),s.moveTo(4*20+.5-80,-80),s.lineTo(4*20+.5-80,80),s.stroke(),s.closePath()}return F(()=>{s=document.getElementById("transform-demo1").getContext("2d"),s.translate(200,200),o()}),(h,t)=>(p(),k(c,null,[i("button",{class:"bg-blue-400 text-white rounded-1 pa-4 mb-10px",onClick:r},"变换矩阵"),t[0]||(t[0]=i("div",{class:"w-full pt-full relative"},[i("canvas",{id:"transform-demo1",class:"border border-solid border-red-500 absolute left-0 top-0 w-full h-full",width:"400",height:"400"})],-1)),i("ul",null,[(p(),k(c,null,u(a,(d,m)=>i("li",{class:A(T(n)===m?"text-red":"")},[i("div",null,C(d.funText),1),i("div",null,C(d.tips),1)],2)),64))])],64))}}),P={id:"loading-demo",width:"200",height:"200"},I=y({__name:"loading-demo",setup(E){return F(()=>{const s=document.getElementById("loading-demo").getContext("2d"),a=Math.sin(Math.PI/6),n=Math.cos(Math.PI/6);s.translate(100,100);function r(){for(let t=0;t<=11;t++){const d=Math.floor(23.181818181818183*(11-t));s.fillStyle="rgb("+d+","+d+","+d+")",s.fillRect(0,0,100,10),s.transform(n,a,-a,n,0,0)}}let o=new Date().getTime();h();function h(){const t=new Date().getTime();t-o>100&&(o=t,s.clearRect(-100,-100,200,200),s.rotate(2*Math.PI/12),r()),requestAnimationFrame(h)}}),(s,a)=>(p(),k("canvas",P))}}),V={tabindex:"0",class:"MathJax",jax:"SVG",display:"true",width:"full",style:{direction:"ltr","text-align":"center",margin:"1em 0",display:"flex","min-width":"20.563ex",position:"relative"}},H={style:{overflow:"visible","min-height":"1px","vertical-align":"-3.733ex","min-width":"20.563ex"},xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"8.597ex",role:"img",focusable:"false","aria-hidden":"true"},S={stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(0.0181,-0.0181) translate(0, -2150)"},N={"data-mml-node":"math"},R={"data-mml-node":"mtable",transform:"translate(2078,0) translate(-2078,0)"},L={transform:"translate(0 2150) matrix(1 0 0 -1 0 0) scale(55.25)"},j={"data-table":"true",preserveAspectRatio:"xMidYMid",viewBox:"2466.5 -2150 1 3800",style:{overflow:"visible"}},Z={"data-labels":"true",preserveAspectRatio:"xMaxYMid",viewBox:"1278 -2150 1 3800",style:{overflow:"visible"}},z=JSON.parse('{"title":"canvas 变形","description":"","frontmatter":{"label":"canvas"},"headers":[{"level":2,"title":"状态保存 save() 和 restore()","slug":"状态保存-save-和-restore","link":"#状态保存-save-和-restore","children":[{"level":3,"title":"save","slug":"save","link":"#save","children":[]},{"level":3,"title":"restore","slug":"restore","link":"#restore","children":[]},{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]}]},{"level":2,"title":"移动 translate","slug":"移动-translate","link":"#移动-translate","children":[]},{"level":2,"title":"旋转 rotate","slug":"旋转-rotate","link":"#旋转-rotate","children":[]},{"level":2,"title":"缩放 scale","slug":"缩放-scale","link":"#缩放-scale","children":[]},{"level":2,"title":"变形（矩阵变换 Transforms）","slug":"变形-矩阵变换-transforms","link":"#变形-矩阵变换-transforms","children":[{"level":3,"title":"transform","slug":"transform","link":"#transform","children":[]},{"level":3,"title":"setTransform","slug":"settransform","link":"#settransform","children":[]},{"level":3,"title":"resetTransform","slug":"resettransform","link":"#resettransform","children":[]},{"level":3,"title":"例子 1","slug":"例子-1","link":"#例子-1","children":[]},{"level":3,"title":"例子 2（加载中图案）","slug":"例子-2-加载中图案","link":"#例子-2-加载中图案","children":[]}]}],"relativePath":"useful/canvas/04 canvas 变形.md","filePath":"useful/canvas/04 canvas 变形.md","lastUpdated":1732751164000}'),$={name:"useful/canvas/04 canvas 变形.md"},J=Object.assign($,{setup(E){return(s,a)=>{const n=D("clientOnly");return p(),k("div",null,[a[3]||(a[3]=e("",10)),l(n,null,{default:g(()=>[l(f)]),_:1}),a[4]||(a[4]=e("",8)),l(n,null,{default:g(()=>[l(Q)]),_:1}),a[5]||(a[5]=e("",10)),l(n,null,{default:g(()=>[l(b)]),_:1}),a[6]||(a[6]=e("",10)),l(n,null,{default:g(()=>[l(M)]),_:1}),a[7]||(a[7]=e("",10)),i("mjx-container",V,[(p(),k("svg",H,[i("g",S,[i("g",N,[i("g",R,[i("g",L,[(p(),k("svg",j,a[0]||(a[0]=[e("",1)]))),(p(),k("svg",Z,a[1]||(a[1]=[e("",1)])))])])])])])),a[2]||(a[2]=i("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[i("mtable",{displaystyle:"true"},[i("mlabeledtr",null,[i("mtd",null,[i("mtext",null,"(1)")]),i("mtd",null,[i("mrow",{"data-mjx-texclass":"INNER"},[i("mo",{"data-mjx-texclass":"OPEN"},"["),i("mtable",{columnspacing:"1em",rowspacing:"4pt"},[i("mtr",null,[i("mtd",null,[i("mi",null,"a")]),i("mtd",null,[i("mi",null,"c")]),i("mtd",null,[i("mi",null,"e")])]),i("mtr",null,[i("mtd",null,[i("mi",null,"b")]),i("mtd",null,[i("mi",null,"d")]),i("mtd",null,[i("mi",null,"f")])]),i("mtr",null,[i("mtd",null,[i("mn",null,"0")]),i("mtd",null,[i("mn",null,"0")]),i("mtd",null,[i("mn",null,"1")])])]),i("mo",{"data-mjx-texclass":"CLOSE"},"]")])])])])])],-1))]),a[8]||(a[8]=e("",8)),l(n,null,{default:g(()=>[l(q)]),_:1}),a[9]||(a[9]=e("",3)),l(n,null,{default:g(()=>[l(I)]),_:1}),a[10]||(a[10]=e("",2))])}}});export{z as __pageData,J as default};
